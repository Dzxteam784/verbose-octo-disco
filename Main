-- File: LoginUI.lua
local LoginUI = {}

-- Key ที่ถูกต้อง
LoginUI.CorrectKey = "12345"

function LoginUI:Create()
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer
    local playerGui = player:WaitForChild("PlayerGui")

    -- ScreenGui
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "DZHUBLogin"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = playerGui

    -- Blur Background
    local blur = Instance.new("BlurEffect")
    blur.Size = 15
    blur.Parent = game.Lighting

    -- Main Frame (โปร่งใส + กว้างขึ้น + ขอบน้ำเงิน)
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 450, 0, 170)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.AnchorPoint = Vector2.new(0.5,0.5)
    frame.BackgroundColor3 = Color3.fromRGB(0,0,0)
    frame.BackgroundTransparency = 0.6
    frame.BorderColor3 = Color3.fromRGB(0,0,255)
    frame.BorderSizePixel = 4
    frame.Parent = screenGui
    
    local stroke = Instance.new("UIStroke")
    stroke.Thickness = 2 --ความหนา
    stroke.Color = Color3.fromRGB(0, 0, 255)
    stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    stroke.Parent = frame 
    
    

    -- Rounded Corners
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0,15)
    corner.Parent = frame

    -- Title Image (ใช้ Asset ID ที่คุณได้)
    local titleImage = Instance.new("ImageLabel")
    titleImage.Size = UDim2.new(0, 300, 0, 100) -- ขนาดใหญ่พอเห็น
    titleImage.Position = UDim2.new(0.5, 0, 0, 10) -- ด้านบนกลาง
    titleImage.AnchorPoint = Vector2.new(0.5,0)
    titleImage.BackgroundTransparency = 1
    titleImage.Image = "rbxassetid://85472171136502" -- ใช้ DZHUB LOGO ของคุณ
    titleImage.Parent = frame



    -- Key Input
    local keyBox = Instance.new("TextBox")
    keyBox.Size = UDim2.new(0, 300, 0, 45)
    keyBox.Position = UDim2.new(0.5,0,0.5,-20)
    keyBox.AnchorPoint = Vector2.new(0.5,0.5)
    keyBox.PlaceholderText = "Enter Key"
    keyBox.Text = ""
    keyBox.ClearTextOnFocus = false
    keyBox.BackgroundColor3 = Color3.fromRGB(30,30,30)
    keyBox.BackgroundTransparency = 0.3
    keyBox.TextColor3 = Color3.fromRGB(255,255,255)
    keyBox.BorderSizePixel = 2
    keyBox.BorderColor3 = Color3.fromRGB(0,0,255)
    keyBox.Font = Enum.Font.Gotham  -- ✅ ใช้ Gotham
    keyBox.TextSize = 20
    keyBox.Parent = frame

    local inputCorner = Instance.new("UICorner")
    inputCorner.CornerRadius = UDim.new(0,10)
    inputCorner.Parent = keyBox

    -- Enter Button
    local enterButton = Instance.new("TextButton")
    enterButton.Size = UDim2.new(0, 150, 0, 40)
    enterButton.Position = UDim2.new(0.5,0,0.8,0)
    enterButton.AnchorPoint = Vector2.new(0.5,0.5)
    enterButton.Text = "Enter"
    enterButton.Font = Enum.Font.Gotham  -- ✅ ใช้ Gotham
    enterButton.TextSize = 22
    enterButton.TextColor3 = Color3.fromRGB(255,255,255)
    enterButton.BackgroundColor3 = Color3.fromRGB(0,0,255)
    enterButton.Parent = frame

    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0,10)
    buttonCorner.Parent = enterButton

    local ui = {}
    ui.Frame = frame
    ui.KeyBox = keyBox
    ui.EnterButton = enterButton
    ui.ScreenGui = screenGui
    ui.Blur = blur

    function ui:Destroy()
        blur:Destroy()
        screenGui:Destroy()
    end

    -- ตรวจสอบ Key
    local function checkKey()
        if keyBox.Text == LoginUI.CorrectKey then
            print("✅ Key correct!")
            ui:Destroy()
        else
            print("❌ Key incorrect!")
        end
    end

    enterButton.MouseButton1Click:Connect(checkKey)
    keyBox.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            checkKey()
        end
    end)

    return ui
end

return LoginUI
