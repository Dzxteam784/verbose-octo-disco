-- File: LoginUI.lua
local LoginUI = {}

-- กำหนด Key ที่ถูกต้อง
LoginUI.CorrectKey = "12345"  -- เปลี่ยนค่าเป็น Key ของคุณ

function LoginUI:Create()
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer
    local playerGui = player:WaitForChild("PlayerGui")

    -- ScreenGui
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "DZHUBLogin"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = playerGui

    -- Blur Background
    local blur = Instance.new("BlurEffect")
    blur.Size = 15
    blur.Parent = game.Lighting

    -- Main Frame
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 350, 0, 220)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.AnchorPoint = Vector2.new(0.5,0.5)
    frame.BackgroundColor3 = Color3.fromRGB(0,0,0)
    frame.BackgroundTransparency = 0.7  -- ทำโปร่งใส
    frame.BorderColor3 = Color3.fromRGB(255,0,0)
    frame.BorderSizePixel = 3
    frame.ClipsDescendants = true
    frame.Parent = screenGui

    -- Rounded Corners
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0,15)
    corner.Parent = frame

    -- Title
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1,0,0,50)
    title.Position = UDim2.new(0,0,0,10)
    title.Text = "DZHUB"
    title.Font = Enum.Font.GothamBold
    title.TextSize = 28
    title.TextColor3 = Color3.fromRGB(255,0,0)
    title.BackgroundTransparency = 1
    title.Parent = frame

    -- Key Input
    local keyBox = Instance.new("TextBox")
    keyBox.Size = UDim2.new(0, 250, 0, 40)
    keyBox.Position = UDim2.new(0.5,0,0.5,-20)
    keyBox.AnchorPoint = Vector2.new(0.5,0.5)
    keyBox.PlaceholderText = "Key"
    keyBox.Text = ""
    keyBox.ClearTextOnFocus = false
    keyBox.BackgroundColor3 = Color3.fromRGB(40,40,40)
    keyBox.BackgroundTransparency = 0.3  -- ทำโปร่งใส
    keyBox.TextColor3 = Color3.fromRGB(255,255,255)
    keyBox.BorderSizePixel = 2
    keyBox.BorderColor3 = Color3.fromRGB(255,0,0)
    keyBox.Font = Enum.Font.Gotham
    keyBox.TextSize = 20
    keyBox.Parent = frame

    local inputCorner = Instance.new("UICorner")
    inputCorner.CornerRadius = UDim.new(0,10)
    inputCorner.Parent = keyBox

    -- Enter Button
    local enterButton = Instance.new("TextButton")
    enterButton.Size = UDim2.new(0, 120, 0, 35)
    enterButton.Position = UDim2.new(0.5,0,0.75,0)
    enterButton.AnchorPoint = Vector2.new(0.5,0.5)
    enterButton.Text = "Enter"
    enterButton.Font = Enum.Font.GothamBold
    enterButton.TextSize = 22
    enterButton.TextColor3 = Color3.fromRGB(255,255,255)
    enterButton.BackgroundColor3 = Color3.fromRGB(255,0,0)
    enterButton.Parent = frame

    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0,10)
    buttonCorner.Parent = enterButton

    local ui = {}
    ui.Frame = frame
    ui.KeyBox = keyBox
    ui.EnterButton = enterButton
    ui.ScreenGui = screenGui
    ui.Blur = blur

    -- Function to destroy UI
    function ui:Destroy()
        blur:Destroy()
        screenGui:Destroy()
    end

    -- ฟังก์ชันตรวจสอบ Key
    local function checkKey()
        if keyBox.Text == LoginUI.CorrectKey then
            print("Key correct!")
            ui:Destroy()
        else
            print("Key incorrect!")
        end
    end

    -- กด Enter Button
    enterButton.MouseButton1Click:Connect(checkKey)

    -- กด Enter บน Keyboard
    keyBox.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            checkKey()
        end
    end)

    return ui
end

return LoginUI
